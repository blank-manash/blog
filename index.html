<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="A Technical Blog About On Software and Mathematics">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Emacsome</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://blank-manash.github.io/blog/">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="posts/how-to-solve/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href=".">

            <span id="blog-title">Emacsome</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
    
        

    
        
    <div class="postindex">
            <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-solve/" class="u-url">How To Solve</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Manash Baul
                    </span></p>
            <p class="dateline">
            <a href="posts/how-to-solve/" rel="bookmark">
            <time class="published dt-published" datetime="2023-07-06T19:48:23+05:30" itemprop="datePublished" title="2023-07-06 19:48">2023-07-06 19:48</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div id="outline-container-orge01ffb2" class="outline-2">
<h2 id="orge01ffb2">Introduction</h2>
<div class="outline-text-2" id="text-orge01ffb2">
<p>
This is a slight overview on how you should approach a problem based on my experience. And what are the things you should be ready be with if you are unable to solve it.
</p>

<p>
Some of Them are from the based on the book and additionally added by me.
</p>
</div>
</div>

<div id="outline-container-org3b9742e" class="outline-2">
<h2 id="org3b9742e">Orientation</h2>
<div class="outline-text-2" id="text-org3b9742e">
<p>
Reading the problem statement correctly is very important. It’s very easy to miss a few lines or misinterpret and completely miss the solution.
</p>

<p>
Here are some points to get started.
</p>
</div>

<div id="outline-container-orgb9f16b5" class="outline-3">
<h3 id="orgb9f16b5">Restate and Rephrase</h3>
<div class="outline-text-3" id="text-orgb9f16b5">
<p>
<b>Different Mathematical Models can lead you to different solutions.</b>
</p>

<p>
This is fairly efficient in finding new approaches to
a given problem. Trying to model on what is required, or simply <i>rewriting</i> it in different mathematical notations or even form can reveal different strategies.
</p>
</div>
</div>
<div id="outline-container-org702d9f0" class="outline-3">
<h3 id="org702d9f0">Fantasize an Answer</h3>
<div class="outline-text-3" id="text-org702d9f0">
<p>
Given an answer,
</p>
<ul class="org-ul">
<li>How does it comply with the constraints given?</li>
<li>How does it fails?</li>
<li>What new constraints (which also even can be rewritten or rephrased.) can be concluded?</li>
</ul>
</div>
</div>
<div id="outline-container-orgb2c0615" class="outline-3">
<h3 id="orgb2c0615">Keep Coming Back</h3>
<div class="outline-text-3" id="text-orgb2c0615">
<p>
In case of a hard problem, it can be the case you have missed a word or two because of which the problem seems impossible. Is the given graph just a tree with an extra edge? Keep coming back and read it again. It pays off.
</p>
</div>
</div>
</div>

<div id="outline-container-org31aa81a" class="outline-2">
<h2 id="org31aa81a">Problem Solving</h2>
<div class="outline-text-2" id="text-org31aa81a">
<p>
This overall starts with defining the problem Structure of the given problem.This includes all the observable axioms and overall how the problem moves through different states. You have to observe the movement by getting your hands dirty and propose conjectures based on them. They need not be true or false but they must be proved.
</p>

<p>
Make claims, prove them, Or disprove them.
</p>
</div>
</div>

<div id="outline-container-orga1b0fa5" class="outline-2">
<h2 id="orga1b0fa5">Wishful Thinking And Make it Easier</h2>
<div class="outline-text-2" id="text-orga1b0fa5">
<p>
<i>“If You can’t a solve a problem, there exists an easier version of it which you can, find it!” - Polya.</i>
</p>

<p>
Concentrate on the key difficulty of the problem. What makes it so tough? And what if I remove it. Then if you have a solution, can we extend it. What are the most obvious used ideas? A few strategies may include
</p>

<p>
• Make all the elements same.
• Lower the Constraints
• Making things monotonic.
• Solving with The Extreme Principle.
• Making Things symmetrical.
• Increasing or Decreasing the number of invariant.
• And the all powerful, Simplify.
</p>
</div>
</div>

<div id="outline-container-orgb90099f" class="outline-2">
<h2 id="orgb90099f">Invariants and Monotonicity</h2>
<div class="outline-text-2" id="text-orgb90099f">
<p>
After the restate and rephrase part, try to notice what are the factors that do not change with time. Looking at the final result can also be very helpful for find invariants and mono-variants.
</p>
</div>
</div>

<div id="outline-container-orgcaa190a" class="outline-2">
<h2 id="orgcaa190a">Using Past Experiences, Reductions and Asking Questions</h2>
<div class="outline-text-2" id="text-orgcaa190a">
<p>
Reduction is the method to convert a problem statement into a reduced problem statement. In easy problems, you'd find problems being reduced to very standards problems we know of.
</p>

<p>
Asking relevant questions lead us to observations, these observations are then used tranpose the problem statement into something we already know and can work upon.
</p>
</div>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/rate-limiter/" class="u-url">Rate Limiter</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Manash Baul
                    </span></p>
            <p class="dateline">
            <a href="posts/rate-limiter/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-19T01:08:08+05:30" itemprop="datePublished" title="2023-06-19 01:08">2023-06-19 01:08</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div id="outline-container-orgb6250a0" class="outline-2">
<h2 id="orgb6250a0">Rate Limiter: The Why?</h2>
<div class="outline-text-2" id="text-orgb6250a0">
<p>
Rate Limiters are fundamental tools in order to facilitate security measures against DDoS attacks. It also helps in managing cost, regulate QPS and render deterministic expections on the usage of our system. Almost all the services you know today have a Rate Limiter Service in place, which is also offered within your Cloud Subscription if you are hosting behind a Cloud Server.
</p>
</div>
</div>

<div id="outline-container-org40e3a83" class="outline-2">
<h2 id="org40e3a83">Rate Limiter: The How?</h2>
<div class="outline-text-2" id="text-org40e3a83">
<p>
Sure it seems simple enough to implement a Rate Limiting, with the requirements as simple as
</p>

<ul class="org-ul">
<li>Only an <code>x</code> number of requests are allowed from a host / IP / user per minute.</li>
</ul>
<p>
But as always, there are some caveats, and this blog is about that caveats. To being with, let's look at how we can implement such a service. We are assuming the rate limiter service will be included as an middleware with the API Gateway which redirects requests to the web server.
</p>
</div>

<div id="outline-container-org9b3c284" class="outline-3">
<h3 id="org9b3c284">Token Buckets</h3>
<div class="outline-text-3" id="text-org9b3c284">
<p>
Imagine we have a bucket, and we have it filled with some coins. Each request to pass through, requires 1 coin from it's bucket. If the bucket is empty, we drop the request. We also add a constant number of coins every second.
</p>

<p>
Here is a simple implementation. We used id as the identifier on how we are limiting the requests (example: IP)
</p>

<div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="nf">passRequest</span><span class="p">(</span><span class="n">Request</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
<span class="w">  </span><span class="n">Bucket</span><span class="w"> </span><span class="n">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buckets</span><span class="p">[</span><span class="n">id</span><span class="p">];</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">bucket</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<p>
Although being simple and effective, the idea has a major flaw. It's is highly <b>resource intensive</b> as we would need a to create a bucket for every <code>id</code> and constantly refill all of the buckets in parallel. Due to such constraints it is an infeasible approach for a large scale system.
</p>
</div>
</div>

<div id="outline-container-org9c17ced" class="outline-3">
<h3 id="org9c17ced">Leaky Buckets</h3>
<div class="outline-text-3" id="text-org9c17ced">
<p>
The idea is same, however instead of refilling the bucket every second, we replace the entire bucket with a queue. The queue has a fixed capacity, and for every request that comes in, we check if the queue is in capacity. If it is, we drop the request.
</p>

<p>
This is a much better approach then the previous one as we don't have to constanty fill the bucket. And the outflow rate is the number of request processed per second. Do consider that this algorithm has a fixed rate of processing the request. And a sudden burst of traffic could cause the new requests to stall.
</p>
</div>
</div>

<div id="outline-container-orgb0a7eb6" class="outline-3">
<h3 id="orgb0a7eb6">Sliding Window Log Algorithm</h3>
<div class="outline-text-3" id="text-orgb0a7eb6">
<p>
This is the first approach that came to me when I first looked at the problem statement. The idea is same as before, to create a queue, but of timestamps.
</p>

<p>
For every request that comes, we do the following operation
</p>

<ul class="org-ul">
<li>Append the timestamp of the request to the queue.</li>
<li>Delete obsolete timestamps from queue.</li>
</ul>
<p>
Obsolete Timestamps: <i>Timestamp with time less than current start interval</i>
Typically that would mean if we are limiting by 1 min, then all the timestamps less than 1 min of current request would be removed from the queue.
</p>

<p>
This is a deterministic algorithm will accurate results. This doesn't impose a fixed rate of request consumption, as requests are served as they come. However storing timestamps for all the requests can be memory intensive, especially when scaled to a large number of users.
</p>
</div>
</div>

<div id="outline-container-org5138641" class="outline-3">
<h3 id="org5138641">Sliding Window Count Algorithm</h3>
<div class="outline-text-3" id="text-org5138641">
<p>
This is tweak on the above algorithm, with making it probabilistic but with very low probablity of error, and much simpler implemention.
We take a assumption that the rate of request is uniform over a window. And we keep a count only for the total number of requests recieved for the current window, and previous window. That's only two variables for each user.
</p>

<p>
Now the trick, we count the total number of request of an interval as <code>x * a + y * b</code>.
</p>
<ul class="org-ul">
<li>
<code>x</code>: Percentage of overlap of the last window.</li>
<li>
<code>a</code>: Number of requests recieved in the last window.</li>
<li>
<code>y</code>: Percentage of overlap of the current window.</li>
<li>
<code>b</code>: Number of requests recieved in the current window.</li>
</ul>
<p>
If you look at it, you would recognize it as a running average of the number of requests received. And this works very nicely for real world usecase. According to experiments, it has a 0.003% of requests wrongly allowed done over 400 million requests. (Cloudfare)
</p>
</div>
</div>
</div>

<div id="outline-container-orgb123308" class="outline-2">
<h2 id="orgb123308">Rate Limiter: The Caveats</h2>
<div class="outline-text-2" id="text-orgb123308">
</div>
<div id="outline-container-orgaec29ce" class="outline-3">
<h3 id="orgaec29ce">Synchronization</h3>
<div class="outline-text-3" id="text-orgaec29ce">
<p>
We could have too many requests for one rate limiter server to handle, for which we would need add multiple rate-limiter servers to filter requests. This would add the problem of data synchronization. Every request can go to random rate limiter which will make it diffcult to maintain the count of recieved request. One solution is to introduce sticky sessions where clients are redirected to a specific server for every server, but is easily isn't the best solution available.
</p>

<p>
The better approach is to use a cache or a database where the servers can connect to store client information. With this way information is decoupled with processing, allowing them to integrate independently.
</p>
</div>
</div>

<div id="outline-container-orgcd9b8a6" class="outline-3">
<h3 id="orgcd9b8a6">Race Conditions</h3>
<div class="outline-text-3" id="text-orgcd9b8a6">
<p>
For any of the above approaches, we would need to store data in a centralized data storage. This introduces the problem of race condition. Say two requests from a user came at the same time. We would first check the counter of user at the same time. Which will return the same value for both of the requests, (as they are read at the same time) which will allow the request to be incorrectly updated with +1 instead of +2.
</p>

<p>
A common solution to this problem is making the process atmoic. We can achieve this using lua scripts. Redis allows us to lua scripts as a mean of multi commands. Instead of putting the read<sub>counter</sub> and check<sub>and</sub><sub>update</sub> functions in the application logic, we can delegate them to redis script to read and update at the same time for each request. This would allow atomicity and handle race conditions.
</p>
</div>
</div>
</div>

<div id="outline-container-orgb25a862" class="outline-2">
<h2 id="orgb25a862">Conclusion</h2>
<div class="outline-text-2" id="text-orgb25a862">
<p>
Never thought a simple queue would have such a list of details to explain for a simple functionality. But it's interesting to see the problems arise in a distributed system. Designing such system generally pose the problems of consistency and availabity. And a rate limiter, by a simple design isn't free of it either.
</p>
</div>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/am-i-back/" class="u-url">Am I back?</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Manash Baul
                    </span></p>
            <p class="dateline">
            <a href="posts/am-i-back/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-17T17:30:44+05:30" itemprop="datePublished" title="2023-06-17 17:30">2023-06-17 17:30</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div id="outline-container-org5f05779" class="outline-2">
<h2 id="org5f05779">Am I back?</h2>
<div class="outline-text-2" id="text-org5f05779">
<p>
I am back to blogging after a long time. I have been busy with my work and a long time dissimilarity of leaving the world of linux to find other systems that the world. So I started to learn System Design in order to facilitate myself with all the other ways. I want to revive this blog as I no longer wonder about math support to be added.
</p>
</div>

<div id="outline-container-orgca0b6a8" class="outline-3">
<h3 id="orgca0b6a8">How to revive this blog?</h3>
<div class="outline-text-3" id="text-orgca0b6a8">
<p>
Admittedly, it was a big of discovery to find out how this blog actually worked. But to make sure that I can have it up and running again. Here is a bit of heads up on how to achieve that quick.
</p>
</div>

<div id="outline-container-org0237d8b" class="outline-4">
<h4 id="org0237d8b">Step 1: The Repository</h4>
<div class="outline-text-4" id="text-org0237d8b">
<p>
The repository is set up in <code>blank-manash/blog</code>. To start, simply clone it to your system. It contains 2 branches, <code>src</code> and <code>main</code>, the src is where we would be actively working on, and the <code>main</code> is from where the pages are published. Make sure you are checked out to the <code>src</code> branch when you are working on this.
</p>
</div>
</div>

<div id="outline-container-org265cab5" class="outline-4">
<h4 id="org265cab5">Step 2: Nikola</h4>
<div class="outline-text-4" id="text-org265cab5">
<p>
Install Nikola. The offical website asks you to install it using a venv. But the direct install through homebrew on my macbook works fine as well. Everything is already set up, you would want to run these commands.
</p>

<div class="highlight"><pre><span></span>pip3 install nikola ghp-import
</pre></div>
</div>
</div>

<div id="outline-container-org25e29f8" class="outline-4">
<h4 id="org25e29f8">Step 3: Edit</h4>
<div class="outline-text-4" id="text-org25e29f8">
<p>
Now you can simply get started by creating a new page from <code>nikola new_post -e</code>, <code>nikola build</code>, <code>nikola serve -b</code> and <code>nikola github_deploy</code>. It's self explanatory of what these things mean, but it really is that easy to get started with it.
</p>
</div>
</div>
</div>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/emacs-blogging%20/" class="u-url">Emacs Blogging</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Manash Baul
                    </span></p>
            <p class="dateline">
            <a href="posts/emacs-blogging%20/" rel="bookmark">
            <time class="published dt-published" datetime="2022-06-08T13:08:21+05:30" itemprop="datePublished" title="2022-06-08 13:08">2022-06-08 13:08</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div id="outline-container-org1347462" class="outline-2">
<h2 id="org1347462">How I finally made a blog with org-mode.</h2>
<div class="outline-text-2" id="text-org1347462">
<p>
When I started off with development, one of the first tasks that you are typically supposed to do is make a blog. Me, a first year undergraduate completely new to the world of programming was handed a bunch of <code>.js</code> files with the expectation to build a blog out of it.
</p>

<p>
And I did, eventually.
</p>

<p>
Except for the tweaks in CSS, which I stole from other websites. There were massive problems with that blog.
</p>

<ul class="org-ul">
<li>It didn't scale well</li>
<li>If you added a blog, the text didn't wrap properly.</li>
<li>The interface to add a blog was, 1940s to say the least.</li>
</ul>
<p>
Nevertheless, that project didn't go well, and my hopes of writing amazing technical blogs to share my infant JavaScript knowledge lies rested in my <code>~/web-dev/projects/blog</code> folder.
</p>
</div>
</div>

<div id="outline-container-org7543c6d" class="outline-2">
<h2 id="org7543c6d">Static Site builders.</h2>
<div class="outline-text-2" id="text-org7543c6d">
<p>
A great concept in itself, maybe you are using <code>Jekyll, Hugo</code> or maybe even <code>react</code> to build yours, but I had my handful of journey coming here.
</p>

<p>
I was introduced to <code>markdown</code> pretty soon. Every developer has to make one. But I also had the requirement of introducing math in it, which made a bit difficult to the right software I need. 
</p>

<p>
I tried <code>Jekyll</code> and <code>Hugo</code> both, but both of them, despite being excellent software felt a little bloated. A lot of directories, and template make a mess of what a simple requirement I had, write and post.
</p>

<p>
I did found an old school solution called <a href="https://dynalon.github.io/mdwiki/#!quickstart.md">MDWiki</a>, which to be honest is pretty great, and was my preferred way to deploy something in case I want a quick web page. But then I met something else,
</p>
</div>

<div id="outline-container-org21dc4d5" class="outline-3">
<h3 id="org21dc4d5">Enter Org-Mode</h3>
<div class="outline-text-3" id="text-org21dc4d5">
<p>
Org-Mode is the single most transformable dictating software that make you want to put your plain life in a plain text, but with markup and extra features to keep you satisfied.
</p>

<p>
It's feels like a home in its self, whether is <i>coding, documentation, planning, thinking, journal</i> or even all of that together. Org will be there, org will be your best partner in this.
</p>
</div>
</div>

<div id="outline-container-org5743347" class="outline-3">
<h3 id="org5743347">Nikola</h3>
<div class="outline-text-3" id="text-org5743347">
<p>
The plugin <a href="https://github.com/getnikola/nikola">Nikola</a>, was like godsend to me in writing a blog. It's painstakingly simple, almost to the point you start arguing how that's possible. There simple to use <code>CLI</code> already makes things simpler, but since it's written in python, all the configuration files are simple dictionary which give you direct programmatic access to your variables, and there is no messy conversion of other format, even though that's possible if you may explicitly need it.
</p>
</div>
</div>
</div>

<div id="outline-container-orgf2eb20c" class="outline-2">
<h2 id="orgf2eb20c">Putting it all together.</h2>
<div class="outline-text-2" id="text-orgf2eb20c">
<p>
All I need to do is install the <a href="https://plugins.getnikola.com/v7/orgmode/">org-mode-plugin</a>, edit the <code>conf.py</code>, and boom. I can start writing blog posts. I changed my editor <code>export EDITOR="emacsclient -c"</code> and there I can edit files in org easily.
</p>

<p>
Furthermore, I still haven't integrated the whole method into Emacs, but I will use a bash script to automate all the process and bind them to commands in Emacs using <code>shell-command</code> function, until I find a better way to learn more <code>elisp</code> and write its independent function.
</p>
</div>
</div>

<div id="outline-container-orgf145609" class="outline-2">
<h2 id="orgf145609">References</h2>
<div class="outline-text-2" id="text-orgf145609">
<p>
There have been some inspirations to the whole method, primarily in no particular order,
</p>

<ul class="org-ul">
<li>Reddit: For introducing me to <code>Nikola</code>
</li>
<li>The Documentation for Nikola: <a href="https://getnikola.com/documentation.html">Docs</a>
</li>
<li>Lincoln's Website <a href="https://clarete.li/">here</a>.</li>
</ul>
</div>
</div>
                </div>
            </article>
</div>
    

    
    


    


        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         <a href="mailto:mximpaid@gmail.com">Manash Baul</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
